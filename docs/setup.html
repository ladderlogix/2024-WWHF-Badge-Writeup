<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-10-13T20:44:56.6307894"><title>Setup | Instance Name</title><script type="application/json" id="virtual-toc-data">[{"id":"install-esptool","level":0,"title":"Install Esptool","anchor":"#install-esptool"},{"id":"identify-esp32-com-port","level":0,"title":"Identify ESP32 Com Port","anchor":"#identify-esp32-com-port"},{"id":"dumping-flash","level":0,"title":"Dumping Flash","anchor":"#dumping-flash"},{"id":"esptool-read-flash","level":0,"title":"esptool read_flash","anchor":"#esptool-read-flash"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Setup | Instance Name"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Instance Name Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/setup.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Setup | Instance Name"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/setup.html#webpage",
    "url": "writerside-documentation/setup.html",
    "name": "Setup | Instance Name",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Instance Name Help"
}</script><!-- End Schema.org --></head><body data-id="Setup" data-main-title="Setup" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Instance Name  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Setup" id="Setup.md">Setup</h1><p id="-suwdve_3">To start attacking the esp32 chip we should see what is in the firmware. To do this we will use esptool to dump.</p><section class="chapter"><h2 id="install-esptool" data-toc="install-esptool">Install Esptool</h2><div class="code-block" data-lang="python">
pip install esptool
</div></section><section class="chapter"><h2 id="identify-esp32-com-port" data-toc="identify-esp32-com-port">Identify ESP32 Com Port</h2><p id="-suwdve_9">Finding the com port can be useful as not all tools can automatically find what you are looking for. It depends on your platform the steps you need to take select from the drop down your os or the ardunio software.</p><div class="tabs" id="-suwdve_10" data-anchors="[-suwdve_11,-suwdve_12,-suwdve_13,-suwdve_14]"><div class="tabs__content" data-gtm="tab" id="-suwdve_11" data-title="Windows"><section class="procedure-steps"><h3 id="Windows-Find-Com-Port" data-toc="Windows-Find-Com-Port">Windows Find Com Port</h3><ol class="list _decimal"><li class="list__item" id="-suwdve_16"><p id="-suwdve_21">Press Windows Key + X</p></li><li class="list__item" id="-suwdve_17"><p id="-suwdve_22">Press <kbd class="keystroke" id="-suwdve_24" data-bypass="true"><span class="keystroke__value">Device Manger</span></kbd> to launch device manger.</p><figure id="-suwdve_23"><img alt="Picture of launching device manger" src="images/DeviceMangerLaunch.png" class="article__bordered-element" title="Picture of launching device manger" width="231" height="652"></figure></li><li class="list__item" id="-suwdve_18"><p id="-suwdve_25">Scroll down to <kbd class="keystroke" id="-suwdve_26" data-bypass="true"><span class="keystroke__value">Ports (COM &amp; LPT)</span></kbd> and expand the menu</p></li><li class="list__item" id="-suwdve_19"><p id="-suwdve_27">Plug your badge into your computer and turn the badge on.</p></li><li class="list__item" id="-suwdve_20"><p id="-suwdve_28">The device tree will refresh and you should see a new device under <kbd class="keystroke" id="-suwdve_30" data-bypass="true"><span class="keystroke__value">Ports (COM &amp; LPT)</span></kbd>. This will be the communication port used to talk to the device.</p><figure id="-suwdve_29"><img alt="Picture highlighting the new com port that appeared" src="images/WINCOMPORT.png" class="article__bordered-element" title="Picture highlighting the new com port that appeared" width="800" height="598"></figure></li></ol></section></div><div class="tabs__content" data-gtm="tab" id="-suwdve_12" data-title="Linux"><p id="-suwdve_31">This command will list out all active serial devices</p><div class="code-block" data-lang="bash" data-title="Bash">ls /dev/tty*</div><p id="-suwdve_33">You may need to try a couple to see which one works or you can run this following command to see what each one is</p><div class="code-block" data-lang="bash" data-title="Bash">for dev in /dev/ttyUSB*; do sudo udevadm info -q all -n &quot;$dev&quot; | grep -E 'DEVNAME|ID_MODEL'; done</div></div><div class="tabs__content" data-gtm="tab" id="-suwdve_13" data-title="Mac"><p id="-suwdve_35">This command will list out all active serial devices</p><div class="code-block" data-lang="bash" data-title="Bash">ls /dev/cu.*</div><p id="-suwdve_37">You may need to try a couple to see which one works or you can run this following command to see what each one is</p><div class="code-block" data-lang="bash" data-title="Bash">ls /dev/cu.* | grep -i usb | while read dev; do ioreg -p IOUSB -l -w 0 | grep -A 10 &quot;$dev&quot;; done</div></div><div class="tabs__content" data-gtm="tab" id="-suwdve_14" data-title="Ardunio IDE"><section class="procedure-steps" id="-suwdve_39"><ol class="list _decimal"><li class="list__item" id="-suwdve_40"><p id="-suwdve_42">Install the Ardunio IDE</p></li><li class="list__item" id="-suwdve_41"><p id="-suwdve_43"></p><figure id="-suwdve_44"><img alt="ardunio showing" src="images/ardunioportfinder.png" class="article__bordered-element" title="ardunio showing" width="497" height="506"></figure></li></ol></section></div></div></section><section class="chapter"><h2 id="dumping-flash" data-toc="dumping-flash">Dumping Flash</h2><section class="chapter"><h3 id="understanding-the-chip" data-toc="understanding-the-chip">Understanding the Chip</h3><p id="-suwdve_46">To dump the flash we will need to know two things the port and the size of flash. To find size of flash we can run the following command</p><div class="code-block" data-lang="bash">
python -m esptool --port {COMPORT} flash_id
</div><p id="-suwdve_48">Sample Output:</p><div class="code-block" data-lang="none">
C:\Users\NSSte&gt;python -m esptool --port COM16 flash_id
esptool.py v4.8.1
Serial port COM16
Connecting...
Detecting chip type... ESP32-S3
Chip is ESP32-S3 (QFN56) (revision v0.2)
Features: WiFi, BLE
Crystal is 40MHz
MAC: 24:58:7c:f4:8e:30
Uploading stub...
Running stub...
Stub running...
Manufacturer: c8
Device: 4017
Detected flash size: 8MB
Flash type set in eFuse: quad (4 data lines)
Flash voltage set by a strapping pin to 3.3V
Hard resetting via RTS pin...
</div><p id="-suwdve_50">We see we have 8MB of flash, and we also have the MAC address in case we lose the display</p><p id="-suwdve_51">More commands can be found in the <a href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#read-flash-contents-read-flash" id="-suwdve_52" data-external="true" rel="noopener noreferrer">docs</a></p></section></section><section class="chapter"><h2 id="esptool-read-flash" data-toc="esptool-read-flash">esptool read_flash</h2><p id="-suwdve_53">Using another command from the <a href="https://docs.espressif.com/projects/esptool/en/latest/esp32s3/esptool/basic-commands.html#read-flash-contents-read-flash" id="-suwdve_56" data-external="true" rel="noopener noreferrer">docs</a> called read flash we will now dump out the flash contents</p><div class="code-block" data-lang="bash">
esptool.py -p {COMPORT} -b 460800 read_flash 0 ALL flash_contents.bin
</div><p id="-suwdve_55">We now should have an 8mb flash file</p></section><div class="last-modified">Last modified: 14 October 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="preface.html" class="navigation-links__prev">Preface</a><a href="analyzing-flash-dump.html" class="navigation-links__next">Analyzing Flash Dump</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>